{"ast":null,"code":"import _classCallCheck from \"/Users/carolina/Desktop/NYT-React-Search-Test/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/carolina/Desktop/NYT-React-Search-Test/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/carolina/Desktop/NYT-React-Search-Test/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/carolina/Desktop/NYT-React-Search-Test/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/carolina/Desktop/NYT-React-Search-Test/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/carolina/Desktop/NYT-React-Search-Test/client/src/containers/Home/Home.js\";\n// Import React\nimport React, { Component } from \"react\"; // Import Container component.\n\nimport Container from \"../../components/Container\"; // Import Row component.\n\nimport Row from \"../../components/Row\"; // Import Col component.\n\nimport Col from \"../../components/Col\"; // Import Jumbotron component.\n\nimport Jumbotron from '../../components/Jumbotron'; // Import SearchForm component.\n\nimport SearchForm from '../../components/SearchForm'; // Import ResultsList component.\n\nimport ResultsList from '../../components/ResultsList';\nimport ResultsListItem from '../../components/ResultsListItem'; // Import Footer component.\n\nimport Footer from '../../components/Footer';\nimport api from \"../../utils/API\";\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Home)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      query: \"\",\n      begin: \"\",\n      end: \"\",\n      articles: [],\n      results: [],\n      error: \"\"\n    };\n\n    _this.getSavedArticles = function () {\n      api.getSavedArticles().then(function (res) {\n        _this.setState({\n          articles: res.data\n        });\n      });\n    };\n\n    _this.handleTopicChange = function (event) {\n      _this.setState({\n        query: event.target.value\n      });\n    };\n\n    _this.handleStartYearChange = function (event) {\n      _this.setState({\n        begin: event.target.value\n      });\n    };\n\n    _this.handleEndYearChange = function (event) {\n      _this.setState({\n        end: event.target.value\n      });\n    };\n\n    _this.handleSaveButton = function (id) {\n      var article = _this.state.articles.find(function (article) {\n        return article._id === id;\n      });\n\n      console.log(\"article: \", article);\n      api.saveArticle(article).then(function (res) {\n        return _this.getSavedArticles();\n      });\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n      console.log(\"Getting NYT Articles\");\n      console.log(\"this.state.query: \", _this.state.query);\n      console.log(\"this.state.begin: \", _this.state.begin);\n      console.log(\"this.state.end: \", _this.state.end);\n      api.getArticles(_this.state.query, _this.state.begin, _this.state.end).then(function (res) {\n        _this.setState({\n          articles: res.data.response.docs\n        });\n\n        console.log(\"this.state.articles: \", _this.state.articles);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Jumbotron, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"main-content-section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Container, {\n        style: {\n          marginTop: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(SearchForm, {\n        handleFormSubmit: this.handleFormSubmit,\n        handleTopicChange: this.handleTopicChange,\n        handleStartYearChange: this.handleStartYearChange,\n        handleEndYearChange: this.handleEndYearChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(ResultsList, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, this.state.articles.map(function (article) {\n        return React.createElement(ResultsListItem, {\n          _id: article._id,\n          key: article._id,\n          title: article.headline.main,\n          date: article.pub_date,\n          url: article.web_url,\n          snippet: article.snippet,\n          handleSaveButton: _this2.handleSaveButton,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        });\n      })))))), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Home;\n}(Component); // Export Home page.\n\n\nexport default Home;","map":{"version":3,"sources":["/Users/carolina/Desktop/NYT-React-Search-Test/client/src/containers/Home/Home.js"],"names":["React","Component","Container","Row","Col","Jumbotron","SearchForm","ResultsList","ResultsListItem","Footer","api","Home","state","query","begin","end","articles","results","error","getSavedArticles","then","res","setState","data","handleTopicChange","event","target","value","handleStartYearChange","handleEndYearChange","handleSaveButton","id","article","find","_id","console","log","saveArticle","handleFormSubmit","preventDefault","getArticles","response","docs","marginTop","map","headline","main","pub_date","web_url","snippet"],"mappings":"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","sourcesContent":["// Import React\nimport React, { Component } from \"react\";\n// Import Container component.\nimport Container from \"../../components/Container\";\n// Import Row component.\nimport Row from \"../../components/Row\";\n// Import Col component.\nimport Col from \"../../components/Col\";\n// Import Jumbotron component.\nimport Jumbotron from '../../components/Jumbotron';\n// Import SearchForm component.\nimport SearchForm from '../../components/SearchForm'\n// Import ResultsList component.\nimport ResultsList from '../../components/ResultsList'\nimport ResultsListItem from '../../components/ResultsListItem'\n\n// Import Footer component.\nimport Footer from '../../components/Footer'\nimport api from \"../../utils/API\"\n\nclass Home extends Component {\n    state = {\n        query: \"\",\n        begin: \"\",\n        end: \"\",\n        articles: [],\n        results: [],\n        error: \"\",\n    };\n\n    // Method for retrieving articles that were saved to the MongoDB database.\n    getSavedArticles = () => {\n        api.getSavedArticles()\n            .then((res) => {\n                this.setState({ articles: res.data });\n            });\n    }\n\n    // Keep track of what user types into topic input field.\n    handleTopicChange = (event) => {\n        this.setState({ query: event.target.value });\n    }\n\n    // Keep track of what user types into start year input field.\n    handleStartYearChange = (event) => {\n        this.setState({ begin: event.target.value });\n    }\n\n    // Keep track of what user types into end year input field.\n    handleEndYearChange = (event) => {\n        this.setState({ end: event.target.value });\n    }\n\n    // When the user clicks the save article button, save the article to the database.\n    handleSaveButton = id => {\n        const article = this.state.articles.find(article => article._id === id);\n        console.log(\"article: \", article);\n        api.saveArticle(article).then(res => this.getSavedArticles());\n    }\n    \n\n    // When user clicks search, get articles from new york times using nyt article search api.\n    handleFormSubmit = event => {\n        event.preventDefault();\n        console.log(\"Getting NYT Articles\");\n        console.log(\"this.state.query: \", this.state.query);\n        console.log(\"this.state.begin: \", this.state.begin);\n        console.log(\"this.state.end: \", this.state.end);\n        api.getArticles(this.state.query, this.state.begin, this.state.end)\n            .then((res) => {\n                this.setState({ articles: res.data.response.docs });\n                console.log(\"this.state.articles: \", this.state.articles);\n            });\n\n    };\n\n\n    render() {\n        return (\n            <div>\n                <Jumbotron />\n                <div className=\"main-content-section\">\n                    <Container style={{ marginTop: 30 }}>\n                        <Row>\n                            <Col size=\"md-12\">\n                                <SearchForm \n                                    handleFormSubmit={this.handleFormSubmit}\n                                    handleTopicChange={this.handleTopicChange}\n                                    handleStartYearChange={this.handleStartYearChange}\n                                    handleEndYearChange={this.handleEndYearChange}/>\n                            </Col>\n                        </Row>\n\n                        <Row>\n                            <Col size=\"md-12\">\n                                <ResultsList>\n                                    {this.state.articles.map(article => {\n                                        return (\n                                            <ResultsListItem\n                                                _id={article._id}\n                                                key={article._id}\n                                                title={article.headline.main}\n                                                date={article.pub_date}\n                                                url={article.web_url}\n                                                snippet={article.snippet}\n                                                handleSaveButton={this.handleSaveButton}\n                                            />\n                                        );\n                                    })}\n                                </ResultsList>\n                            </Col>\n                        </Row>\n                    </Container>\n                </div>\n                <Footer />\n            </div>\n        );\n    }\n}\n\n// Export Home page.\nexport default Home;\n\n"]},"metadata":{},"sourceType":"module"}